# mq-rest-sync-adapter

Пример рефакторинга по кукбуку.

В серии статей я опишу, почему я прошу разработчиков читать книги  
В частности хорошие книги серии Дядюшки Боба (Роберта Мартина)

# Назначение сервиса:
Сервис является синхронным перекладчиком запросов систем-потребителей в системы-поставщики.  
Запросы поступают из систем-потребителей по очередям и обрабатываются сервисом-поставщиком согласно обобщенному бизнес-процессу:  
Запросы из очереди направляются синхронно по REST'у в соответствующую систему, полученный ответ упаковывается в ответный конверт и отправляется в очередь ответа. Подробнее в описании каждого процесса.

## Обработка запроса из Платежной Системы (PipelineServicePS.kt)

| Получает конверт с запросом  
| Валидирует входящий запрос  
| Отправляет квитанцию о результате валидации и принятии запроса  
| Отправляет запрос на получение истории операций в Систему А (REST)  
| Отправляет полученный ответ в очередь  
| Отправляет квитанцию об успехе либо ошибке обработки запроса  

```plantuml

start
:Получает конверт с запросом;
:Валидирует входящий запрос;
:Отправляет квитанцию о результате валидации и принятии запроса;
:Отправляет запрос на получение истории операций в Систему А (REST);
:Отправляет полученный ответ в очередь;
:Отправляет квитанцию об успехе либо ошибке обработки запроса;
stop

```


